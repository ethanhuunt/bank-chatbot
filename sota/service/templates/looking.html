{% extends 'layout/layout.html' %}
{%load static%}{% load humanize %}
{%block content%}
<link rel="stylesheet" href="{%static 'css/looking.css' %}">
<section class="contents" style="margin-bottom: 25px; font-size: 20px;">
    <h2 class="tit">조회</h2>
    <strong style="margin-left: 34px;">총잔액 : </strong>
    <span>{{remain.remain|intcomma}} 원</span>
    <div>필터
        <form action="/service/looking/filter" method="GET" name="filter">
            <input type="text" style="display: none;" name="account" id="account" value="{{remain.account}}">
            <select name="inp" id="">
                <option value="">입/출금</option>
                <option value="1">입금</option>
                <option value="0">출금</option>
            </select>
            <input type="date" id="start" name="startday"
            min="2022-01-01" max="2022-12-31">
            <input type="date" id="start" name="lastday"
            min="2022-01-01" max="2022-12-31">
            <button type="submit">적용</button>
        </form>
    </div>
</section>
<section class="contents" style="min-height: 450px;">
    <table class="list1">
        <thead>
            <tr>
                <th scope="col">입출금</th>
                <th scope="col">거래일시</th>
                <th scope="col">계좌번호</th>
                <th scope="col">보낸분</th>
                <th scope="col">받는분</th>
                <th scope="col">출금액(원)</th>
                <th scope="col">입출액(원)</th>
                <th scope="col">잔액(원)</th>
            </tr>
        </thead>
        <tbody>
            {%for i in trans%}
            <tr>
                {%if i.kind == 1%}
                <td>입금</td>
                {%else%}
                <td>출금</td>
                {%endif%}
                <td>{{i.date}}</td>
                <td>{{i.account}}</td>
                {%if i.kind == 1%}
                <td>{{i.user_idx.name}}</td>
                {%else%}
                <td>{{user.name}}</td>
                {%endif%}
                {%if i.kind == 0%}
                <td>{{i.user_idx.name}}</td>
                {%else%}
                <td>{{user.name}}</td>
                {%endif%}
                {%if i.kind == 0%}
                <td>{{i.amount|intcomma}} 원</td>
                {%else%}
                <td>없음</td>
                {%endif%}
                {%if i.kind == 1%}
                <td>{{i.amount|intcomma}} 원</td>
                {%else%}
                <td>없음</td>
                {%endif%}
                <td>{{i.remain|intcomma}} 원</td>
                </td>
            </tr>
        </tbody>
        {%empty%}
        <div style="position: absolute;top: 50%;left: 44%;">
            <h3>거래내역이 없습니다.</h3>
        </div>
        {%endfor%}
    </table>
</section>
{%endblock%}